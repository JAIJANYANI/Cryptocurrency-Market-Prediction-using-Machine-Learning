<!DOCTYPE html>
<html lang="en">
<head>
 <!--  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> -->
  <meta name="description" content="Cryptocurrency price predictor">
  <meta name="author" content="abhishek">
  <link rel="shortcut icon" href="img/favicon.png">
  <title>BitPredictor</title>
  <!-- {{ url_for('static',
    filename='style.css') }} -->

    <link href="{{ url_for('static',
    filename='node_modules/font-awesome/css/font-awesome.min.css') }}" rel="stylesheet">
    <link href="{{ url_for('static',
    filename='node_modules/simple-line-icons/css/simple-line-icons.css') }}" rel="stylesheet">


    <script
    src="https://code.jquery.com/jquery-3.2.1.min.js"
    integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
    crossorigin="anonymous"></script>
    <script src="https://npmcdn.com/tether@1.2.4/dist/js/tether.min.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.4.1/css/simple-line-icons.min.css">

    
    <link href="{{ url_for('static',
    filename='css/bootstrap.css') }}" rel="stylesheet">
    <link href="{{ url_for('static',
    filename='css/style.css') }}" rel="stylesheet">
    
    <script src="{{ url_for('static',
    filename='js/bootstrap.js') }}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js"> </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js"></script>
    <!-- Bootstrap and necessary plugins -->
    <!--   <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.6/esm/popper-utils.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js"></script>
    
    <script src="{{ url_for('static',
    filename='node_modules/chart.js/dist/Chart.min.js') }}"></script> 


    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js"></script> -->

    <script src="{{ url_for('static',
    filename='js/plotly.js') }}"></script>

  </head>


  <body class="app header-fixed sidebar-fixed aside-menu-fixed aside-menu-hidden">
    <header class="app-header navbar">
      <button class="navbar-toggler mobile-sidebar-toggler d-lg-none mr-auto" type="button">
        <span class="navbar-toggler-icon"></span>
      </button>
      <a class="navbar-brand" href="#"></a>
      <button class="navbar-toggler sidebar-toggler d-md-down-none" type="button">
        <span class="navbar-toggler-icon"></span>
      </button>

      
      <ul class="nav navbar-nav ml-auto">

      </ul>

    </header>

    <div class="app-body">
      <div class="sidebar">
        <nav class="sidebar-nav">
          <ul class="nav">
            <li class="nav-title">
              CryptoCurrencies
            </li>
            <li class="nav-item">
              <form id="btcform" method="get" action="/">
                <a class="nav-link" onclick="document.getElementById('btcform').submit();"><i class="icon-speedometer"></i>Bitcoin</a>
              </form>
            </li><li class="nav-item">
              <form id="ethform" method="get" action="/eth">
                <a class="nav-link" onclick="document.getElementById('ethform').submit();"><i class="icon-speedometer"></i>Ethereum</a>
              </form>
            </li>
            <li class="nav-item">
              <form id="xrpform" method="get" action="/xrp">
                <a class="nav-link" onclick="document.getElementById('xrpform').submit();"><i class="icon-speedometer"></i>Ripple</a>
              </form>
            </li>
            

          </ul>
        </nav>
        <button class="sidebar-minimizer brand-minimizer" type="button"></button>
      </div>

      <!-- Main content -->
      <main class="main">

        <!-- Breadcrumb -->
        <ol class="breadcrumb">
          <li class="breadcrumb-item">Home</li>
          <!-- Breadcrumb Menu-->
          <li class="breadcrumb-menu d-md-down-none">
            <div class="btn-group" role="group" aria-label="Button group">
              <a class="btn" href="#"><i class="icon-settings"></i> &nbsp;About</a>
            </div>
          </li>
        </ol>

        <div class="container-fluid">
          <div id="ui-view">
            <div class="animated fadeIn">
              <div class="row">
                <div class="col-sm-6 col-lg-3">
                  <div class="card text-white bg-primary">
                    <div class="card-body pb-0">
                      <div class="btn-group float-right">
                        <button type="button" class="btn btn-transparent p-0" >
                          <i class="icon-settings">
                            <!-- insert coin icon -->
                          </i>
                        </button>

                      </div>
                      <h4 class="mb-0">Ethereum</h4>
                      <p>ETH</p>
                    </div>
                    <div class="chart-wrapper px-3" style="height:70px;">
                      <canvas id="card-chart1" class="chart" height="70"></canvas>
                    </div>
                  </div>
                </div>
                <!--/.col-->
                <div class="col-sm-6 col-lg-3">
                  <div class="card text-white bg-warning">
                    <div class="card-body pb-0">
                      <h4 class="mb-0">$380</h4>
                      <p>Current price</p>
                    </div>
                    <div class="chart-wrapper" style="height:70px;">
                      <canvas id="card-chart3" class="chart" height="70"></canvas>
                    </div>
                  </div>
                </div>
                <!--/.col-->

                <div class="col-sm-6 col-lg-3">
                  <div class="card text-white bg-success">
                    <div class="card-body pb-0">
                      <h4 class="mb-0">$400</h4>
                      <p>All time high</p>
                    </div>
                    <div class="chart-wrapper px-3" style="height:70px;">
                      <canvas id="card-chart2" class="chart" height="70"></canvas>
                    </div>
                  </div>
                </div>



                <!--/.col-->

                <div class="col-sm-6 col-lg-3">
                  <div class="card text-white bg-danger">
                    <div class="card-body pb-0">
                      <h4 class="mb-0">$0.0001</h4>
                      <p>All time low</p>
                    </div>
                    <div class="chart-wrapper px-3" style="height:70px;">
                      <canvas id="card-chart4" class="chart" height="70"></canvas>
                    </div>
                  </div>
                </div>
                <!--/.col-->
              </div>
              <!--/.row-->

              <div class="card">

                <div class="card-body">
                  <div class="row">
                    <div class="col-sm-12">
                      <h4 class="card-title mb-0">ETH</h4>
                      <div class="small text-muted">Ethereum</div>
                    </div>
                  </div>
                  <!--/.row-->
                  <!-- <div style="height:300px;margin-top:40px;"> -->
                   <div id="graph"></div>
                   <!-- </div> -->
                 </div>
                 <div class="card-footer">
                  <ul>
                    <li>
                      <div class="text-muted">Estimated</div>
                      <strong>Prediction</strong>
                      <div class="progress progress-xs mt-2">
                        <div class="progress-bar bg-success" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </li>
                    <li class="d-none d-md-table-cell">
                      <div class="text-muted">Next week</div>
                      <strong>5000$</strong>
                      <div class="progress progress-xs mt-2">
                        <div class="progress-bar bg-info" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </li>
                    <li>
                      <div class="text-muted">Next day</div>
                      <strong>5000$</strong>
                      <div class="progress progress-xs mt-2">
                        <div class="progress-bar bg-warning" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </li>
                    <li class="d-none d-md-table-cell">
                      <div class="text-muted">2 weeks</div>
                      <strong>5000$</strong>
                      <div class="progress progress-xs mt-2">
                        <div class="progress-bar bg-danger" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </li>
                    <li class="d-none d-md-table-cell">
                      <div class="text-muted">Average</div>
                      <strong>5000$</strong>
                      <div class="progress progress-xs mt-2">
                        <div class="progress-bar" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </li>
                  </ul>
                </div>
              </div>
              <!--/.card-->


              <!--/.row-->
            </div>


          </div>
        </div>
        <!-- /.conainer-fluid -->
      </main>



    </div>

    <footer class="app-footer">
      <span class="ml-auto text-primary">Made with <i class="fa fa-code" aria-hidden="true"></i>
      by CodeBytes</span>
    </footer>

    <script src="{{ url_for('static',
    filename='js/app.js') }}"></script>

    <script src="{{ url_for('static',
    filename='js/main.js') }}"></script>

    <script>
      data1 = '{{ url_for('static', filename='data/crypto.csv') }}';
      data2 = '{{ url_for('static', filename='data/result.csv') }}';
      Plotly.d3.csv(data1, function(rows){
        console.log(rows);
        var actual = {
      type: 'scatter',                    // set the chart type
      mode: 'lines',                      // connect points with lines
      x: rows.map(function(row){          // set the x-data
        return row['ID'];
      }),
      y: rows.map(function(row){          // set the x-data
        return row['BitCoin_Price'];
      }),
      line: {                             // set the width of the line.
        width: 1,
        color:'red'
      }
    };

    var layout = {
      yaxis: {title: "Price($)"},       // set the y axis title
      xaxis: {
        title: "Time(days)",
        showgrid: false,                  // customize the date format to "month, day"
      },
      // margin: {                           // update the left, bottom, right, top margin
      //   l: 40, b: 10, r: 10, t: 20
      // }
    };

    Plotly.d3.csv(data2, function(rows){
      var predicted = {
      type: 'scatter',                    // set the chart type
      mode: 'lines',                      // connect points with lines
      x: rows.map(function(row){          // set the x-data
        return row['ID2'];
      }),
      y: rows.map(function(row){          // set the x-data
        return row['BitCoin_Price'];
      }),
      line: {                             // set the width of the line.
        width: 1,
        color:'blue'
      }
    };

    var layout = {
      yaxis: {title: "Price($)"},       // set the y axis title
      xaxis: {
        title: "Time(days)",
        showgrid: false,                 // customize the date format to "month, day"
      },
      // margin: {                           // update the left, bottom, right, top margin
      //   l: 40, b: 10, r: 10, t: 20
      // }
    };
    data = [actual, predicted];
    Plotly.plot(document.getElementById('graph'), data, layout, {showLink: false});
  });
  });

</script>

</body>
</html>